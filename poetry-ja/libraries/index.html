



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.3.0">
    
    
      
        <title>Libraries - Poetry documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.962652e9.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#_1" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Poetry documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Poetry documentation
              </span>
              <span class="md-header-nav__topic">
                Libraries
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Poetry documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Poetry documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basic-usage/" title="Basic Usage" class="md-nav__link">
      Basic Usage
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Libraries
      </label>
    
    <a href="./" title="Libraries" class="md-nav__link md-nav__link--active">
      Libraries
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#every-project-is-a-package" title="Every project is a package" class="md-nav__link">
    Every project is a package
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#versioning" title="Versioning" class="md-nav__link">
    Versioning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lock-file" title="Lock file" class="md-nav__link">
    Lock file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging" title="Packaging" class="md-nav__link">
    Packaging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-to-pypi" title="Publishing to PyPI" class="md-nav__link">
    Publishing to PyPI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-to-a-private-repository" title="Publishing to a private repository" class="md-nav__link">
    Publishing to a private repository
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cli/" title="Commands" class="md-nav__link">
      Commands
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../repositories/" title="Repositories" class="md-nav__link">
      Repositories
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../versions/" title="Versions" class="md-nav__link">
      Versions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../pyproject/" title="The pyproject.toml file" class="md-nav__link">
      The pyproject.toml file
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#every-project-is-a-package" title="Every project is a package" class="md-nav__link">
    Every project is a package
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#versioning" title="Versioning" class="md-nav__link">
    Versioning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lock-file" title="Lock file" class="md-nav__link">
    Lock file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging" title="Packaging" class="md-nav__link">
    Packaging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-to-pypi" title="Publishing to PyPI" class="md-nav__link">
    Publishing to PyPI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-to-a-private-repository" title="Publishing to a private repository" class="md-nav__link">
    Publishing to a private repository
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="_1">ライブラリ<a class="headerlink" href="#_1" title="Permanent link"></a></h1>
<p>This chapter will tell you how to make your library installable through
Poetry.</p>
<h2 id="every-project-is-a-package">Every project is a package<a class="headerlink" href="#every-project-is-a-package" title="Permanent link"></a></h2>
<p>As soon as you have a <code>pyproject.toml</code> in a directory, that directory is a
package.  However, to make it accessible to others you will need to package
and publish it.</p>
<h2 id="versioning">Versioning<a class="headerlink" href="#versioning" title="Permanent link"></a></h2>
<p>While Poetry does not enforce any convention regarding package versioning,
it <strong>strongly</strong> recommends to follow <a href="https://semver.org">semantic
versioning</a>.</p>
<p>This has many advantages for the end users and allows them to set
appropriate <a href="/docs/versions/">version constraints</a>.</p>
<h2 id="lock-file">Lock file<a class="headerlink" href="#lock-file" title="Permanent link"></a></h2>
<p>For your library, you may commit the <code>poetry.lock</code> file if you want to.
This can help your team to always test against the same dependency
versions.  However, this lock file will not have any effect on other
projects that depend on it.  It only has an effect on the main project.</p>
<p>If you do not want to commit the lock file and you are using git, add it to
the <code>.gitignore</code>.</p>
<h2 id="packaging">Packaging<a class="headerlink" href="#packaging" title="Permanent link"></a></h2>
<p>Before you can actually publish your library, you will need to package it.</p>
<p><code>bash poetry build</code></p>
<p>This command will package your library in two different formats: <code>sdist</code>
which is the source format, and <code>wheel</code> which is a <code>compiled</code> package.</p>
<p>Once that's done you are ready to publish your library</p>
<h2 id="publishing-to-pypi">Publishing to PyPI<a class="headerlink" href="#publishing-to-pypi" title="Permanent link"></a></h2>
<p>Alright, so now you can publish packages.</p>
<p>Poetry will publish to <a href="https://pypi.org">PyPI</a> by default. Anything that is
published to PyPI is available automatically through Poetry. Since
<a href="https://pypi.org/project/pendulum/">pendulum</a>  is on PyPI we can depend on
it without having to specify any additional repositories.</p>
<p>If we wanted to share <code>poetry-demo</code> with the Python community, we would
publish on PyPI as well.  Doing so is really easy.</p>
<p><code>bash poetry publish</code></p>
<p>This will package and publish the library to PyPI, at the condition that you
are a registered user and you have <a href="/docs/repositories/#adding-credentials">configured your
credentials</a> properly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>publish</code> command does not execute <code>build</code> by default.</p>
<p>If you want to build and publish your packages together,
just pass the <code>--build</code> option.</p>
</div>
<p>Once this is done, your library will be available to anyone.</p>
<h2 id="publishing-to-a-private-repository">Publishing to a private repository<a class="headerlink" href="#publishing-to-a-private-repository" title="Permanent link"></a></h2>
<p>Sometimes, you may want to keep your library private but also being
accessible to your team.</p>
<p>In this case, you will need to use a private repository.</p>
<p>In order to publish to a private repository, you will need to add it to your
global list of repositories. See <a href="/docs/repositories/#adding-a-repository">Adding a
repository</a>  for more information.</p>
<p>Once this is done, you can actually publish to it like so:</p>
<p><code>bash poetry publish -r my-repository</code></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../basic-usage/" title="Basic Usage" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Basic Usage
              </span>
            </div>
          </a>
        
        
          <a href="../cli/" title="Commands" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Commands
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a353778b.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>