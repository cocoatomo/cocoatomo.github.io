



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.3.0">
    
    
      
        <title>FAQ - Poetry documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.962652e9.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#faq" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Poetry documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Poetry documentation
              </span>
              <span class="md-header-nav__topic">
                FAQ
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Poetry documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Poetry documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basic-usage/" title="Basic Usage" class="md-nav__link">
      Basic Usage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../libraries/" title="Libraries" class="md-nav__link">
      Libraries
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cli/" title="Commands" class="md-nav__link">
      Commands
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../repositories/" title="Repositories" class="md-nav__link">
      Repositories
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../versions/" title="Versions" class="md-nav__link">
      Versions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../pyproject/" title="The pyproject.toml file" class="md-nav__link">
      The pyproject.toml file
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        FAQ
      </label>
    
    <a href="./" title="FAQ" class="md-nav__link md-nav__link--active">
      FAQ
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-is-the-dependency-resolution-process-slow" title="Why is the dependency resolution process slow?" class="md-nav__link">
    Why is the dependency resolution process slow?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-are-unbound-version-constraints-a-bad-idea" title="Why are unbound version constraints a bad idea?" class="md-nav__link">
    Why are unbound version constraints a bad idea?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-tox-supported" title="Is tox supported?" class="md-nav__link">
    Is tox supported?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-dont-want-poetry-to-manage-my-virtualenvs-can-i-disable-it" title="I don't want Poetry to manage my virtualenvs. Can I disable it?" class="md-nav__link">
    I don't want Poetry to manage my virtualenvs. Can I disable it?
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-is-the-dependency-resolution-process-slow" title="Why is the dependency resolution process slow?" class="md-nav__link">
    Why is the dependency resolution process slow?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-are-unbound-version-constraints-a-bad-idea" title="Why are unbound version constraints a bad idea?" class="md-nav__link">
    Why are unbound version constraints a bad idea?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-tox-supported" title="Is tox supported?" class="md-nav__link">
    Is tox supported?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-dont-want-poetry-to-manage-my-virtualenvs-can-i-disable-it" title="I don't want Poetry to manage my virtualenvs. Can I disable it?" class="md-nav__link">
    I don't want Poetry to manage my virtualenvs. Can I disable it?
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link"></a></h1>
<h2 id="why-is-the-dependency-resolution-process-slow">Why is the dependency resolution process slow?<a class="headerlink" href="#why-is-the-dependency-resolution-process-slow" title="Permanent link"></a></h2>
<p>While the dependency resolver at the heart of Poetry is highly optimized and
should be fast enough for most cases, sometimes, with some specific set of
dependencies, it can take time to find a valid solution.</p>
<p>This is due to the fact that not all libraries on PyPI have properly
declared their metadata and, as such, they are not available via the PyPI
JSON API. At this point, Poetry has no choice but downloading the packages
and inspect them to get the necessary information. This is an expensive
operation, both in bandwidth and time, which is why it seems this is a long
process.</p>
<p>At the moment there is no way around it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once Poetry has cached the releases' information, the dependency resolution process
will be much faster.</p>
</div>
<h2 id="why-are-unbound-version-constraints-a-bad-idea">Why are unbound version constraints a bad idea?<a class="headerlink" href="#why-are-unbound-version-constraints-a-bad-idea" title="Permanent link"></a></h2>
<p>A version constraint without an upper bound such as <code>*</code> or <code>&gt;=3.4</code> will
allow updates to any future version of the dependency.  This includes major
versions breaking backward compatibility.</p>
<p>Once a release of your package is published, you cannot tweak its
dependencies anymore in case a dependency breaks BC - you have to do a new
release but the previous one stays broken.</p>
<p>The only good alternative is to define an upper bound on your constraints,
which you can increase in a new release after testing that your package is
compatible with the new major version of your dependency.</p>
<p>For example instead of using <code>&gt;=3.4</code> you should use <code>~3.4</code> which allows all
versions <code>&lt;4.0</code>.  The <code>^</code> operator works very well with libraries following
<a href="https://semver.org">semantic versioning</a>.</p>
<h2 id="is-tox-supported">Is tox supported?<a class="headerlink" href="#is-tox-supported" title="Permanent link"></a></h2>
<p>Yes. By using the <a href="https://tox.readthedocs.io/en/latest/config.html#conf-isolated_build">isolated
builds</a>
<code>tox</code> provides, you can use it in combination with the PEP 517 compliant
build system provided by Poetry.</p>
<p>So, in your <code>pyproject.toml</code> file, add this section if it does not already
exist:</p>
<p><code>toml [build-system] requires = ["poetry&gt;=0.12"] build-backend =
"poetry.masonry.api"</code></p>
<p>And use a <code>tox.ini</code> configuration file similar to this:</p>
<p>```INI [tox] isolated_build = true envlist = py27, py36</p>
<p>[testenv]
whitelist_externals = poetry
commands =
    poetry install -v
    poetry run pytest tests/
```</p>
<h2 id="i-dont-want-poetry-to-manage-my-virtualenvs-can-i-disable-it">I don't want Poetry to manage my virtualenvs. Can I disable it?<a class="headerlink" href="#i-dont-want-poetry-to-manage-my-virtualenvs-can-i-disable-it" title="Permanent link"></a></h2>
<p>While Poetry automatically creates virtualenvs to always work isolated from
the global Python installation, there are valid reasons why it's not
necessary and is an overhead, like when working with containers.</p>
<p>In this case, you can disable this feature by setting the
<code>virtualenvs.create</code> setting to <code>false</code>:</p>
<p><code>bash poetry config settings.virtualenvs.create false</code></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../contributing/" title="Contributing" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Contributing
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a353778b.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>